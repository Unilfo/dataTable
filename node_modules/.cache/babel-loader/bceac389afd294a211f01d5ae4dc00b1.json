{"ast":null,"code":"var _jsxFileName = \"F:\\\\Application\\\\dataTable\\\\data-table\\\\src\\\\components\\\\app\\\\app.js\";\nimport React, { Component } from 'react';\nimport DataTable from 'react-data-table-component';\nimport Button from 'react-bootstrap/Button';\nimport FormControl from 'react-bootstrap/FormControl';\nimport ModalRowAdd from '../modal-row-add/modal-row-add';\nimport './app.css';\nimport { BsFillTrashFill } from \"react-icons/bs\";\nimport { BsPencilSquare } from \"react-icons/bs\";\nlet id_count = 5;\nexport default class MyComponent extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [{\n        id: 1,\n        title: 'Иванов Илья Сергееви',\n        year: '001'\n      }, {\n        id: 2,\n        title: 'Петров Максим Иванович',\n        year: '103'\n      }, {\n        id: 3,\n        title: 'Кузнецов Константин Васильевич',\n        year: '789'\n      }, {\n        id: 4,\n        title: 'Иванов Илья Сергееви',\n        year: '001'\n      }, {\n        id: 5,\n        title: 'Петров Максим Иванович',\n        year: '103'\n      }, {\n        id: 6,\n        title: 'Кузнецов Константин Васильевич',\n        year: '789'\n      }, {\n        id: 7,\n        title: 'Иванов Илья Сергееви',\n        year: '001'\n      }, {\n        id: 8,\n        title: 'Петров Максим Иванович',\n        year: '103'\n      }, {\n        id: 9,\n        title: 'Кузнецов Константин Васильевич',\n        year: '789'\n      }, {\n        id: 10,\n        title: 'Иванов Илья Сергееви',\n        year: '001'\n      }, {\n        id: 11,\n        title: 'Петров Максим Иванович',\n        year: '103'\n      }, {\n        id: 12,\n        title: 'Кузнецов Константин Васильевич',\n        year: '789'\n      }, {\n        id: 13,\n        title: 'Иванов Илья Сергееви',\n        year: '001'\n      }, {\n        id: 14,\n        title: 'Петров Максим Иванович',\n        year: '103'\n      }, {\n        id: 15,\n        title: 'Кузнецов Константин Васильевич',\n        year: '789'\n      }, {\n        id: 16,\n        title: 'Иванов Илья Сергееви',\n        year: '001'\n      }, {\n        id: 17,\n        title: 'Петров Максим Иванович',\n        year: '103'\n      }, {\n        id: 18,\n        title: 'Кузнецов Константин Васильевич',\n        year: '789'\n      }, {\n        id: 19,\n        title: 'Иванов Илья Сергееви',\n        year: '001'\n      }, {\n        id: 20,\n        title: 'Петров Максим Иванович',\n        year: '103'\n      }, {\n        id: 21,\n        title: 'Кузнецов Константин Васильевич',\n        year: '789'\n      }, {\n        id: 22,\n        title: 'Иванов Илья Сергееви',\n        year: '001'\n      }, {\n        id: 23,\n        title: 'Петров Максим Иванович',\n        year: '103'\n      }, {\n        id: 24,\n        title: 'Кузнецов Константин Васильевич',\n        year: '789'\n      }, {\n        id: 25,\n        title: 'Иванов Илья Сергееви',\n        year: '001'\n      }, {\n        id: 26,\n        title: 'Петров Максим Иванович',\n        year: '103'\n      }, {\n        id: 27,\n        title: 'Кузнецов Константин Васильевич',\n        year: '789'\n      }, {\n        id: 28,\n        title: 'Иванов Илья Сергееви',\n        year: '001'\n      }, {\n        id: 29,\n        title: 'Петров Максим Иванович',\n        year: '103'\n      }, {\n        id: 30,\n        title: 'Кузнецов Константин Васильевич',\n        year: '789'\n      }, {\n        id: 31,\n        title: 'Иванов Илья Сергееви',\n        year: '001'\n      }, {\n        id: 32,\n        title: 'Петров Максим Иванович',\n        year: '103'\n      }, {\n        id: 33,\n        title: 'Кузнецов Константин Васильевич',\n        year: '789'\n      }, {\n        id: 34,\n        title: 'Иванов Илья Сергееви',\n        year: '001'\n      }, {\n        id: 35,\n        title: 'Петров Максим Иванович',\n        year: '103'\n      }, {\n        id: 36,\n        title: 'Кузнецов Константин Васильевич',\n        year: '789'\n      }],\n      columns: [{\n        name: 'Title',\n        selector: 'title',\n        sortable: true,\n        style: {\n          color: '#202124',\n          fontSize: '14px',\n          fontWeight: 500\n        }\n      }, {\n        name: 'Year',\n        selector: 'year',\n        sortable: true,\n        right: true,\n        width: '350px',\n        style: {\n          color: '#202124',\n          fontSize: '14px',\n          fontWeight: 500\n        }\n      }, {\n        name: 'buttons',\n        id: 'edit',\n        width: '150px',\n        cell: ({\n          id\n        }) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n          className: \"mr-2\",\n          onClick: () => this.edit(id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(BsPencilSquare, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 29\n          }\n        })), /*#__PURE__*/React.createElement(Button, {\n          onClick: () => this.del(id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(BsFillTrashFill, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }\n        })))\n      }],\n      tern: '',\n      show: false,\n      itemModal: {}\n    };\n\n    this.openMod = () => {\n      this.setState({\n        show: true,\n        itemModal: {\n          id: '',\n          title: '',\n          year: ''\n        }\n      });\n    };\n\n    this.add = item => {\n      const idx = this.state.data.findIndex(el => el.id === item.id);\n\n      if (idx === -1 && item.title !== '' && item.year !== '') {\n        const newItem = this.createItem(item);\n        this.setState(({\n          data\n        }) => {\n          const newData = [newItem, ...data];\n          return {\n            data: newData\n          };\n        });\n      } else if (idx !== -1) {\n        this.setState(({\n          data\n        }) => {\n          const findItem = this.state.data.filter(el => el.id === item.id);\n\n          if (findItem) {\n            findItem[0].title = item.title;\n            findItem[0].year = item.year;\n            const newData = [...data];\n            return {\n              data: newData\n            };\n          }\n        });\n      }\n    };\n\n    this.createItem = item => {\n      return {\n        id: id_count++,\n        title: item.title,\n        year: item.year\n      };\n    };\n\n    this.del = id => {\n      this.setState(({\n        data\n      }) => {\n        const idx = data.findIndex(el => el.id === id);\n        const newArray = [...data.slice(0, idx), ...data.slice(idx + 1)];\n        return {\n          data: newArray\n        };\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        tern: e.target.value\n      });\n    };\n\n    this.edit = id => {\n      const findItem = this.state.data.filter(item => item.id === id);\n      this.setState({\n        itemModal: findItem[0],\n        show: true\n      });\n    };\n\n    this.close = () => {\n      this.setState({\n        show: false\n      });\n    };\n  }\n\n  search(items, tern) {\n    if (tern.length === 0) {\n      return items;\n    }\n\n    const findTitle = items.filter(item => {\n      return item.title.toLowerCase().indexOf(tern.toLowerCase().trim()) > -1;\n    });\n    const findYear = items.filter(item => {\n      return item.year.toLowerCase().indexOf(tern.toLowerCase().trim()) > -1;\n    });\n    const newArrData = [...new Set([...findTitle, ...findYear])];\n    return newArrData;\n  }\n\n  render() {\n    const {\n      data,\n      columns,\n      tern,\n      show,\n      itemModal\n    } = this.state;\n    const visibalItems = this.search(data, tern);\n\n    const DataTableDB = () => {\n      return /*#__PURE__*/React.createElement(DataTable, {\n        columns: columns,\n        data: visibalItems,\n        pagination: true,\n        paginationPerPage: 15,\n        noHeader: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 17\n        }\n      });\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mb-3 ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"mr-auto p-2 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"mr-auto p-2\",\n      onClick: this.openMod,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 25\n      }\n    }, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"p-2 form-contrl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      placeholder: \"\\u043F\\u043E\\u0438\\u0441\\u043A\",\n      value: tern,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(DataTableDB, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(ModalRowAdd, {\n      show: show,\n      item: itemModal,\n      onClose: this.close,\n      onAdd: this.add,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n;","map":{"version":3,"sources":["F:/Application/dataTable/data-table/src/components/app/app.js"],"names":["React","Component","DataTable","Button","FormControl","ModalRowAdd","BsFillTrashFill","BsPencilSquare","id_count","MyComponent","state","data","id","title","year","columns","name","selector","sortable","style","color","fontSize","fontWeight","right","width","cell","edit","del","tern","show","itemModal","openMod","setState","add","item","idx","findIndex","el","newItem","createItem","newData","findItem","filter","newArray","slice","handleChange","e","target","value","close","search","items","length","findTitle","toLowerCase","indexOf","trim","findYear","newArrData","Set","render","visibalItems","DataTableDB"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport DataTable from 'react-data-table-component';\r\nimport Button from 'react-bootstrap/Button';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport ModalRowAdd from '../modal-row-add/modal-row-add';\r\nimport './app.css';\r\nimport { BsFillTrashFill } from \"react-icons/bs\";\r\nimport { BsPencilSquare } from \"react-icons/bs\";\r\n\r\nlet id_count = 5;\r\n\r\nexport default class MyComponent extends Component {\r\n\r\n    state = {\r\n        data: [\r\n            { id: 1, title: 'Иванов Илья Сергееви', year: '001' },\r\n            { id: 2, title: 'Петров Максим Иванович', year: '103' },\r\n            { id: 3, title: 'Кузнецов Константин Васильевич', year: '789' },\r\n            { id: 4, title: 'Иванов Илья Сергееви', year: '001' },\r\n            { id: 5, title: 'Петров Максим Иванович', year: '103' },\r\n            { id: 6, title: 'Кузнецов Константин Васильевич', year: '789' },\r\n            { id: 7, title: 'Иванов Илья Сергееви', year: '001' },\r\n            { id: 8, title: 'Петров Максим Иванович', year: '103' },\r\n            { id: 9, title: 'Кузнецов Константин Васильевич', year: '789' },\r\n            { id: 10, title: 'Иванов Илья Сергееви', year: '001' },\r\n            { id: 11, title: 'Петров Максим Иванович', year: '103' },\r\n            { id: 12, title: 'Кузнецов Константин Васильевич', year: '789' },\r\n            { id: 13, title: 'Иванов Илья Сергееви', year: '001' },\r\n            { id: 14, title: 'Петров Максим Иванович', year: '103' },\r\n            { id: 15, title: 'Кузнецов Константин Васильевич', year: '789' },\r\n            { id: 16, title: 'Иванов Илья Сергееви', year: '001' },\r\n            { id: 17, title: 'Петров Максим Иванович', year: '103' },\r\n            { id: 18, title: 'Кузнецов Константин Васильевич', year: '789' },\r\n            { id: 19, title: 'Иванов Илья Сергееви', year: '001' },\r\n            { id: 20, title: 'Петров Максим Иванович', year: '103' },\r\n            { id: 21, title: 'Кузнецов Константин Васильевич', year: '789' },\r\n            { id: 22, title: 'Иванов Илья Сергееви', year: '001' },\r\n            { id: 23, title: 'Петров Максим Иванович', year: '103' },\r\n            { id: 24, title: 'Кузнецов Константин Васильевич', year: '789' },\r\n            { id: 25, title: 'Иванов Илья Сергееви', year: '001' },\r\n            { id: 26, title: 'Петров Максим Иванович', year: '103' },\r\n            { id: 27, title: 'Кузнецов Константин Васильевич', year: '789' },\r\n            { id: 28, title: 'Иванов Илья Сергееви', year: '001' },\r\n            { id: 29, title: 'Петров Максим Иванович', year: '103' },\r\n            { id: 30, title: 'Кузнецов Константин Васильевич', year: '789' },\r\n            { id: 31, title: 'Иванов Илья Сергееви', year: '001' },\r\n            { id: 32, title: 'Петров Максим Иванович', year: '103' },\r\n            { id: 33, title: 'Кузнецов Константин Васильевич', year: '789' },\r\n            { id: 34, title: 'Иванов Илья Сергееви', year: '001' },\r\n            { id: 35, title: 'Петров Максим Иванович', year: '103' },\r\n            { id: 36, title: 'Кузнецов Константин Васильевич', year: '789' },\r\n\r\n        ],\r\n        columns: [\r\n            {\r\n                name: 'Title',\r\n                selector: 'title',\r\n                sortable: true,\r\n                style: {\r\n                    color: '#202124',\r\n                    fontSize: '14px',\r\n                    fontWeight: 500\r\n                },\r\n            },\r\n            {\r\n                name: 'Year',\r\n                selector: 'year',\r\n                sortable: true,\r\n                right: true,\r\n                width: '350px',\r\n                style: {\r\n                    color: '#202124',\r\n                    fontSize: '14px',\r\n                    fontWeight: 500\r\n                },\r\n            },\r\n            {\r\n                name: 'buttons',\r\n                id: 'edit',\r\n                width: '150px',\r\n                cell: ({ id }) =>\r\n                    <>\r\n\r\n                        <Button className='mr-2' onClick={() => this.edit(id)}>\r\n                            <BsPencilSquare />\r\n                        </Button>\r\n                        <Button onClick={() => this.del(id)}>\r\n                            <BsFillTrashFill />\r\n                        </Button>\r\n                    </>\r\n            },\r\n        ],\r\n        tern: '',\r\n        show: false,\r\n        itemModal: {}\r\n    };\r\n\r\n    openMod = () => {\r\n        this.setState({\r\n            show: true,\r\n            itemModal: { id: '', title: '', year: '' }\r\n        });\r\n    };\r\n\r\n    add = (item) => {\r\n        const idx = this.state.data.findIndex((el) => el.id === item.id);\r\n\r\n        if (idx === -1 && item.title !== '' && item.year !== '') {\r\n            const newItem = this.createItem(item);\r\n            this.setState(({ data }) => {\r\n                const newData = [\r\n                    newItem,\r\n                    ...data\r\n                ];\r\n                return {\r\n                    data: newData\r\n                }\r\n            });\r\n        }\r\n        else if (idx !== -1) {\r\n            this.setState(({ data }) => {\r\n                const findItem = this.state.data.filter((el) => el.id === item.id);\r\n                if (findItem) {\r\n                    findItem[0].title = item.title;\r\n                    findItem[0].year = item.year;\r\n                    const newData = [\r\n                        ...data\r\n                    ];\r\n                    return {\r\n                        data: newData\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n\r\n    createItem = (item) => {\r\n        return {\r\n            id: id_count++,\r\n            title: item.title,\r\n            year: item.year\r\n        }\r\n    };\r\n\r\n    del = (id) => {\r\n        this.setState(({ data }) => {\r\n            const idx = data.findIndex((el) => el.id === id);\r\n\r\n            const newArray = [\r\n                ...data.slice(0, idx),\r\n                ...data.slice(idx + 1)\r\n            ];\r\n\r\n            return {\r\n                data: newArray\r\n            };\r\n        });\r\n    };\r\n\r\n    search(items, tern) {\r\n\r\n        if (tern.length === 0) {\r\n            return items;\r\n        }\r\n\r\n        const findTitle = items.filter((item) => {\r\n            return item.title\r\n                .toLowerCase()\r\n                .indexOf(tern.toLowerCase().trim()) > -1;\r\n        });\r\n\r\n        const findYear = items.filter((item) => {\r\n            return item.year\r\n                .toLowerCase()\r\n                .indexOf(tern.toLowerCase().trim()) > -1;\r\n        });\r\n\r\n        const newArrData = [...new Set([...findTitle, ...findYear])];\r\n\r\n        return newArrData;\r\n    };\r\n\r\n    handleChange = (e) => {\r\n\r\n        this.setState({\r\n            tern: e.target.value\r\n        });\r\n    };\r\n\r\n    edit = (id) => {\r\n        const findItem = this.state.data.filter((item) => item.id === id);\r\n\r\n        this.setState({\r\n            itemModal: findItem[0],\r\n            show: true\r\n        });\r\n    };\r\n\r\n    close = () => {\r\n        this.setState({\r\n            show: false\r\n        });\r\n    };\r\n\r\n\r\n\r\n    render() {\r\n        const { data, columns, tern, show, itemModal } = this.state;\r\n        const visibalItems = this.search(data, tern);\r\n\r\n        const DataTableDB = () => {\r\n            return (\r\n                <DataTable\r\n                    columns={columns}\r\n                    data={visibalItems}\r\n                    pagination\r\n                    paginationPerPage={15}\r\n                    noHeader\r\n                />);\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"d-flex mb-3 ml-2\">\r\n                    <div class=\"mr-auto p-2 \">\r\n                        <Button className='mr-auto p-2' onClick={this.openMod}>Создать</Button>\r\n                    </div>\r\n                    <div class=\"p-2 form-contrl\">\r\n                        <FormControl\r\n                            placeholder='поиск'\r\n                            value={tern}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <DataTableDB />\r\n                <ModalRowAdd show={show} item={itemModal} onClose={this.close} onAdd={this.add} />\r\n            </div>\r\n        )\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}